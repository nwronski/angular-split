{"version":3,"file":"angular-split.js","sources":["../../src/components/split.component.ts","../../src/components/splitArea.directive.ts","../../src/components/splitGutter.directive.ts","../../src/modules/angularSplit.module.ts"],"sourcesContent":["import { Component, ChangeDetectorRef, Input, Output, HostBinding, ChangeDetectionStrategy,\n    EventEmitter, Renderer2, OnDestroy, ElementRef, AfterViewInit, NgZone, HostListener } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { Observable } from 'rxjs/Observable';\nimport { Subscription } from 'rxjs/Subscription';\nimport 'rxjs/add/operator/debounceTime';\n\nimport { IArea } from './../interface/IArea';\nimport { IPoint } from './../interface/IPoint';\nimport { SplitAreaDirective } from './splitArea.directive';\n\n/**\n * angular-split\n * \n * Areas size are set in percentage of the split container.\n * Gutters size are set in pixels.\n * \n * So we set css 'flex-basis' property like this (where 0 <= area.size <= 1): \n *  calc( { area.size * 100 }% - { area.size * nbGutter * gutterSize }px );\n * \n * Examples with 3 visible areas and 2 gutters: \n * \n * |                     10px                   10px                                  |\n * |---------------------[]---------------------[]------------------------------------|\n * |  calc(20% - 4px)          calc(20% - 4px)              calc(60% - 12px)          |\n * \n * \n * |                          10px                        10px                        |\n * |--------------------------[]--------------------------[]--------------------------|\n * |  calc(33.33% - 6.667px)      calc(33.33% - 6.667px)      calc(33.33% - 6.667px)  |\n * \n * \n * |10px                                                  10px                        |\n * |[]----------------------------------------------------[]--------------------------|\n * |0                 calc(66.66% - 13.333px)                  calc(33%% - 6.667px)   |\n * \n * \n *  10px 10px                                                                         |\n * |[][]------------------------------------------------------------------------------|\n * |0 0                               calc(100% - 20px)                               |\n * \n */\n\n@Component({\n    selector: 'split',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    styles: [`\n        :host {\n            display: flex;\n            flex-wrap: nowrap;\n            justify-content: flex-start;\n            align-items: stretch;\n            overflow: hidden;\n            /* \n                Important to keep following rules even if overrided later by 'HostBinding' \n                because if [width] & [height] not provided, when build() is executed,\n                'HostBinding' hasn't been applied yet so code:\n                this.elRef.nativeElement[\"offsetHeight\"] gives wrong value!  \n             */\n            width: 100%;\n            height: 100%;   \n        }\n\n        split-gutter {\n            flex-grow: 0;\n            flex-shrink: 0;\n            background-position: center center;\n            background-repeat: no-repeat;\n        }\n    `],\n    template: `\n        <ng-content></ng-content>\n        <ng-template ngFor let-area [ngForOf]=\"displayedAreas\" let-index=\"index\" let-last=\"last\">\n            <split-gutter *ngIf=\"last === false\" \n                          [order]=\"index*2+1\"\n                          [direction]=\"direction\"\n                          [useTransition]=\"useTransition\"\n                          [size]=\"gutterSize\"\n                          [color]=\"gutterColor\"\n                          [imageH]=\"gutterImageH\"\n                          [imageV]=\"gutterImageV\"\n                          [disabled]=\"disabled\"\n                          (mousedown)=\"startDragging($event, index*2+1, index+1)\"\n                          (touchstart)=\"startDragging($event, index*2+1, index+1)\"></split-gutter>\n        </ng-template>`,\n})\nexport class SplitComponent implements AfterViewInit, OnDestroy {\n\n    private _direction: 'horizontal' | 'vertical' = 'horizontal';\n\n    @Input() set direction(v: 'horizontal' | 'vertical') {\n        v = (v === 'vertical') ? 'vertical' : 'horizontal';\n        this._direction = v;\n        \n        [...this.displayedAreas, ...this.hidedAreas].forEach(area => {\n            area.comp.setStyleVisibleAndDir(area.comp.visible, this.isDragging, this.direction);\n        });\n        \n        this.build(false, false);\n    }\n    \n    get direction(): 'horizontal' | 'vertical' {\n        return this._direction;\n    }\n    \n    ////\n\n    private _useTransition: boolean = false;\n\n    @Input() set useTransition(v: boolean) {\n        v = (typeof(v) === 'boolean') ? v : (v === 'false' ? false : true);\n        this._useTransition = v;\n    }\n    \n    get useTransition(): boolean {\n        return this._useTransition;\n    }\n    \n    ////\n\n    private _disabled: boolean = false;\n    \n    @Input() set disabled(v: boolean) {\n        v = (typeof(v) === 'boolean') ? v : (v === 'false' ? false : true);\n        this._disabled = v;\n\n        // Force repaint if modified from TS class (instead of the template)\n        this.cdRef.markForCheck();\n    }\n    \n    get disabled(): boolean {\n        return this._disabled;\n    }\n    \n    ////\n\n    private _width: number | null = null;\n\n    @Input() set width(v: number | null) {\n        v = Number(v);\n        this._width = (!isNaN(v) && v > 0) ? v : null;\n        \n        this.build(false, false);\n    }\n    \n    get width(): number | null {\n        return this._width;\n    }\n    \n    ////\n\n    private _height: number | null = null;\n\n    @Input() set height(v: number | null) {\n        v = Number(v);\n        this._height = (!isNaN(v) && v > 0) ? v : null;\n        \n        this.build(false, false);\n    }\n    \n    get height(): number | null {\n        return this._height;\n    }\n    \n    ////\n\n    private _gutterSize: number = 11;\n\n    @Input() set gutterSize(v: number) {\n        v = Number(v);\n        this._gutterSize = (!isNaN(v) && v > 0) ? v : 11;\n\n        this.build(false, false);\n    }\n    \n    get gutterSize(): number {\n        return this._gutterSize;\n    }\n    \n    ////\n\n    private _gutterColor: string = '';\n\n    @Input() set gutterColor(v: string) {\n        this._gutterColor = (typeof v === 'string' && v !== '') ? v : '';\n\n        // Force repaint if modified from TS class (instead of the template)\n        this.cdRef.markForCheck();\n    }\n    \n    get gutterColor(): string {\n        return this._gutterColor;\n    }\n    \n    ////\n\n    private _gutterImageH: string = '';\n\n    @Input() set gutterImageH(v: string) {\n        this._gutterImageH = (typeof v === 'string' && v !== '') ? v : '';\n        \n        // Force repaint if modified from TS class (instead of the template)\n        this.cdRef.markForCheck();\n    }\n    \n    get gutterImageH(): string {\n        return this._gutterImageH;\n    }\n    \n    ////\n\n    private _gutterImageV: string = '';\n\n    @Input() set gutterImageV(v: string) {\n        this._gutterImageV = (typeof v === 'string' && v !== '') ? v : '';\n\n        // Force repaint if modified from TS class (instead of the template)\n        this.cdRef.markForCheck();\n    }\n    \n    get gutterImageV(): string {\n        return this._gutterImageV;\n    }\n\n    ////\n\n    private _dir: 'ltr' | 'rtl' = 'ltr';\n    \n    @Input() set dir(v: 'ltr' | 'rtl') {\n        v = (v === 'rtl') ? 'rtl' : 'ltr';\n        this._dir = v;\n    }\n    \n    get dir(): 'ltr' | 'rtl' {\n        return this._dir;\n    }\n\n    ////\n\n    @Output() dragStart = new EventEmitter<{gutterNum: number, sizes: Array<number>}>(false);\n    @Output() dragProgress = new EventEmitter<{gutterNum: number, sizes: Array<number>}>(false);\n    @Output() dragEnd = new EventEmitter<{gutterNum: number, sizes: Array<number>}>(false);\n    @Output() gutterClick = new EventEmitter<{gutterNum: number, sizes: Array<number>}>(false);\n\n    private transitionEndInternal = new Subject<Array<number>>();\n    @Output() transitionEnd = (<Observable<Array<number>>> this.transitionEndInternal.asObservable()).debounceTime(20);\n\n    @HostBinding('style.flex-direction') get cssFlexdirection() {\n        return (this.direction === 'horizontal') ? 'row' : 'column';\n    }\n\n    @HostBinding('style.width') get cssWidth() {\n        return this.width ? `${ this.width }px` : '100%';\n    }\n\n    @HostBinding('style.height') get cssHeight() {\n        return this.height ? `${ this.height }px` : '100%';\n    }\n\n    @HostBinding('style.min-width') get cssMinwidth() {\n        return (this.direction === 'horizontal') ? `${ this.getNbGutters() * this.gutterSize }px` : null;\n    }\n\n    @HostBinding('style.min-height') get cssMinheight() {\n        return (this.direction === 'vertical') ? `${ this.getNbGutters() * this.gutterSize }px` : null;\n    }\n\n    private windowResizeInternal: Subject<void> = new Subject<void>();\n    @HostListener('window:resize')\n    onWindowResize() {\n        this.windowResizeInternal.next();\n    }\n    public windowResize: Subscription = this.windowResizeInternal\n        .asObservable()\n        .debounceTime(80)\n        .subscribe(() => this.build(false, false));\n\n    public isViewInitialized: boolean = false;\n    private isDragging: boolean = false;\n    private draggingWithoutMove: boolean = false;\n    private currentGutterNum: number = 0;\n\n    public readonly displayedAreas: Array<IArea> = [];\n    private readonly hidedAreas: Array<IArea> = [];\n\n    private readonly dragListeners: Array<Function> = [];\n    private readonly dragStartValues = {\n        sizePixelContainer: 0,\n        sizePixelA: 0,\n        sizePixelB: 0,\n        sizePercentA: 0,\n        sizePercentB: 0,\n        minSizeA: 0,\n        minSizeB: 0,\n    };\n\n    constructor(private ngZone: NgZone,\n                private elRef: ElementRef,\n                private cdRef: ChangeDetectorRef,\n                private renderer: Renderer2) {}\n\n    public ngAfterViewInit() {\n        this.isViewInitialized = true;\n    }\n\n    private getNbGutters(): number {\n        return this.displayedAreas.length - 1;\n    }\n\n    public addArea(comp: SplitAreaDirective): void {\n        const newArea: IArea = {\n            comp, \n            order: 0, \n            size: 0,\n        };\n\n        if(comp.visible === true) {\n            this.displayedAreas.push(newArea);\n        }\n        else {\n            this.hidedAreas.push(newArea);\n        }\n\n        comp.setStyleVisibleAndDir(comp.visible, this.isDragging, this.direction);\n\n        this.build(true, true);\n    }\n\n    public removeArea(comp: SplitAreaDirective): void {\n        if(this.displayedAreas.some(a => a.comp === comp)) {\n            const area = <IArea> this.displayedAreas.find(a => a.comp === comp)\n            this.displayedAreas.splice(this.displayedAreas.indexOf(area), 1);\n\n            this.build(true, true);\n        }\n        else if(this.hidedAreas.some(a => a.comp === comp)) {\n            const area = <IArea> this.hidedAreas.find(a => a.comp === comp)\n            this.hidedAreas.splice(this.hidedAreas.indexOf(area), 1);\n        }\n    }\n\n    public updateArea(comp: SplitAreaDirective, resetOrders: boolean, resetSizes: boolean): void {\n        // Only refresh if area is displayed (No need to check inside 'hidedAreas')\n        const item = this.displayedAreas.find(a => a.comp === comp);\n\n        if(item) {\n            this.build(resetOrders, resetSizes);\n        }\n    }\n\n    public showArea(comp: SplitAreaDirective): void {\n        const area = this.hidedAreas.find(a => a.comp === comp);\n\n        if(area) {\n            comp.setStyleVisibleAndDir(comp.visible, this.isDragging, this.direction);\n\n            const areas = this.hidedAreas.splice(this.hidedAreas.indexOf(area), 1);\n            this.displayedAreas.push(...areas);\n\n            this.build(true, true);\n        }\n    }\n\n    public hideArea(comp: SplitAreaDirective): void {\n        const area = this.displayedAreas.find(a => a.comp === comp);\n\n        if(area) {\n            comp.setStyleVisibleAndDir(comp.visible, this.isDragging, this.direction);\n\n            const areas = this.displayedAreas.splice(this.displayedAreas.indexOf(area), 1);\n            areas.forEach(area => {\n                area.order = 0;\n                area.size = 0;\n            })\n            this.hidedAreas.push(...areas);\n\n            this.build(true, true);\n        }\n    }\n\n    private build(resetOrders: boolean, resetSizes: boolean): void {\n        this.stopDragging();\n\n        // ¤ AREAS ORDER\n        \n        if(resetOrders === true) {    \n\n            // If user provided 'order' for each area, use it to sort them.\n            if(this.displayedAreas.every(a => a.comp.order !== null)) {\n                this.displayedAreas.sort((a, b) => (<number> a.comp.order) - (<number> b.comp.order));\n            }\n    \n            // Then set real order with multiples of 2, numbers between will be used by gutters.\n            this.displayedAreas.forEach((area, i) => {\n                area.order = i * 2;\n                area.comp.setStyleOrder(area.order);\n            });\n\n        }\n\n        // ¤ AREAS SIZE PERCENT\n        \n        if(resetSizes === true) {\n\n            const totalUserSize = <number> this.displayedAreas.reduce((total: number, s: IArea) => s.comp.size ? total + s.comp.size : total, 0);\n            \n            // If user provided 'size' for each area and total == 1, use it.\n            if(this.displayedAreas.every(a => a.comp.size !== null) && totalUserSize > .999 && totalUserSize < 1.001 ) {\n\n                this.displayedAreas.forEach(area => {\n                    area.size = <number> area.comp.size;\n                });\n            }\n            // Else set equal sizes for all areas.\n            else {\n                const size = 1 / this.displayedAreas.length;\n                \n                this.displayedAreas.forEach(area => {\n                    area.size = size;\n                });\n            }\n        }\n        \n        // ¤ \n        // If some real area sizes are less than gutterSize, \n        // set them to zero and dispatch size to others.\n\n        // Get container pixel size\n        let containerSizePixel: number; // TODO: This is immediately overwritten\n        if(this.direction === 'horizontal') {\n            containerSizePixel = this.width ? this.width : this.elRef.nativeElement['offsetWidth'];\n        }\n        else {\n            containerSizePixel = this.height ? this.height : this.elRef.nativeElement['offsetHeight'];\n        }\n\n        let percentToDispatch = 0;\n\n        this.displayedAreas.forEach(area => {\n            const currentArea = area.size * containerSizePixel;\n            const neededArea = Math.max(currentArea, area.comp.minSize);\n            if(neededArea < this.gutterSize) {\n                percentToDispatch += area.size;\n                area.size = 0;\n            } else if (neededArea > currentArea) {\n                percentToDispatch -= (neededArea - currentArea) / containerSizePixel;\n                area.size = neededArea / containerSizePixel;\n            }\n        });\n\n        if(percentToDispatch !== 0 && this.displayedAreas.length > 0) {\n            const areasNotZero = this.displayedAreas.filter(a => a.size !== 0);\n\n            if(areasNotZero.length > 0) {\n                const areasWithoutDefecit = this.displayedAreas.filter(a => {\n                    if (percentToDispatch < 0) {\n                        return ((a.size * containerSizePixel) + (percentToDispatch / areasNotZero.length)) > a.comp.minSize;\n                    }\n                    return a.size !== 0;\n                });\n                if (areasWithoutDefecit.length > 0) {\n                    const percentToAdd = percentToDispatch / areasWithoutDefecit.length;\n\n                    areasWithoutDefecit.forEach(area => {\n                        area.size += percentToAdd;\n                    });\n                }\n                else {\n                    // Just take what we need from the last one\n                    this.displayedAreas[this.displayedAreas.length - 1].size += percentToDispatch;\n                }\n            }\n            // All area sizes (container percentage) are less than guterSize,\n            // It means containerSize < ngGutters * gutterSize\n            else {\n                this.displayedAreas[this.displayedAreas.length - 1].size = 1;\n            }\n        }\n\n\n        this.refreshStyleSizes();\n        this.cdRef.markForCheck();\n    }\n\n    private refreshStyleSizes(): void {\n        const sumGutterSize = this.getNbGutters() * this.gutterSize;\n\n        this.displayedAreas.forEach(area => {\n            area.comp.setStyleFlexbasis(`calc( ${ area.size * 100 }% - ${ area.size * sumGutterSize }px )`, this.isDragging);\n        });\n    }\n\n    public startDragging(startEvent: MouseEvent | TouchEvent, gutterOrder: number, gutterNum: number): void {\n        startEvent.preventDefault();\n\n        // Place code here to allow '(gutterClick)' event even if '[disabled]=\"true\"'.\n        this.currentGutterNum = gutterNum;\n        this.draggingWithoutMove = true;\n        this.ngZone.runOutsideAngular(() => {\n            this.dragListeners.push( this.renderer.listen('document', 'mouseup', (e: MouseEvent) => this.stopDragging()) );\n            this.dragListeners.push( this.renderer.listen('document', 'touchend', (e: TouchEvent) => this.stopDragging()) );\n            this.dragListeners.push( this.renderer.listen('document', 'touchcancel', (e: TouchEvent) => this.stopDragging()) );\n        });\n\n        if(this.disabled) {\n            return;\n        }\n\n        const areaA = this.displayedAreas.find(a => a.order === gutterOrder - 1);\n        const areaB = this.displayedAreas.find(a => a.order === gutterOrder + 1);\n        \n        if(!areaA || !areaB) {\n            return;\n        }\n\n        const prop = (this.direction === 'horizontal') ? 'offsetWidth' : 'offsetHeight';\n        this.dragStartValues.sizePixelContainer = this.elRef.nativeElement[prop];\n        this.dragStartValues.sizePixelA = areaA.comp.getSizePixel(prop);\n        this.dragStartValues.sizePixelB = areaB.comp.getSizePixel(prop);\n        this.dragStartValues.sizePercentA = areaA.size;\n        this.dragStartValues.sizePercentB = areaB.size;\n        this.dragStartValues.minSizeA = areaA.comp.minSize;\n        this.dragStartValues.minSizeB = areaB.comp.minSize;\n\n        let start: IPoint;\n        if(startEvent instanceof MouseEvent) {\n            start = {\n                x: startEvent.screenX,\n                y: startEvent.screenY,\n            };\n        }\n        else if(startEvent instanceof TouchEvent) {\n            start = {\n                x: startEvent.touches[0].screenX,\n                y: startEvent.touches[0].screenY,\n            };\n        }\n        else {\n            return;\n        }\n\n        this.ngZone.runOutsideAngular(() => {\n            this.dragListeners.push( this.renderer.listen('document', 'mousemove', (e: MouseEvent) => this.dragEvent(e, start, areaA, areaB)) );\n            this.dragListeners.push( this.renderer.listen('document', 'touchmove', (e: TouchEvent) => this.dragEvent(e, start, areaA, areaB)) );\n        });\n\n        areaA.comp.lockEvents();\n        areaB.comp.lockEvents();\n\n        this.isDragging = true;\n\n        this.notify('start');\n    }\n\n    private dragEvent(event: MouseEvent | TouchEvent, start: IPoint, areaA: IArea, areaB: IArea): void {\n        if(!this.isDragging) {\n            return;\n        }\n\n        let end: IPoint;\n        if(event instanceof MouseEvent) {\n            end = {\n                x: event.screenX,\n                y: event.screenY,\n            };\n        }\n        else if(event instanceof TouchEvent) {\n            end = {\n                x: event.touches[0].screenX,\n                y: event.touches[0].screenY,\n            };\n        }\n        else {\n            return;\n        }\n        \n        this.draggingWithoutMove = false;\n        this.drag(start, end, areaA, areaB);\n    }\n\n    private drag(start: IPoint, end: IPoint, areaA: IArea, areaB: IArea): void {\n\n        // ¤ AREAS SIZE PIXEL\n\n        const devicePixelRatio = window.devicePixelRatio || 1;\n        let offsetPixel = (this.direction === 'horizontal') ? (start.x - end.x) : (start.y - end.y);\n        offsetPixel = offsetPixel / devicePixelRatio;\n        \n        if(this.dir === 'rtl') {\n            offsetPixel = -offsetPixel;\n        }\n\n        let newSizePixelA = this.dragStartValues.sizePixelA - offsetPixel;\n        let newSizePixelB = this.dragStartValues.sizePixelB + offsetPixel;\n\n        if (newSizePixelA < this.dragStartValues.minSizeA) {\n            newSizePixelB -= (this.dragStartValues.minSizeA - newSizePixelA)\n            newSizePixelA = this.dragStartValues.minSizeA;\n        } else if (newSizePixelB < this.dragStartValues.minSizeB) {\n            newSizePixelA -= (this.dragStartValues.minSizeB - newSizePixelB)\n            newSizePixelB = this.dragStartValues.minSizeB;\n        }\n\n        if(newSizePixelA < this.gutterSize && newSizePixelB < this.gutterSize) {\n            // WTF.. get out of here!\n            return;\n        }\n        else if(newSizePixelA < this.gutterSize) {\n            newSizePixelB += newSizePixelA;\n            newSizePixelA = 0;\n        }\n        else if(newSizePixelB < this.gutterSize) {\n            newSizePixelA += newSizePixelB;\n            newSizePixelB = 0;\n        }\n\n        // ¤ AREAS SIZE PERCENT\n\n        if(newSizePixelA === 0) {\n            areaB.size += areaA.size;\n            areaA.size = 0;\n        }\n        else if(newSizePixelB === 0) {\n            areaA.size += areaB.size;\n            areaB.size = 0;\n        }\n        else {\n            // NEW_PERCENT = START_PERCENT / START_PIXEL * NEW_PIXEL;\n            if(this.dragStartValues.sizePercentA === 0) {\n                areaB.size = this.dragStartValues.sizePercentB / this.dragStartValues.sizePixelB * newSizePixelB;\n                areaA.size = this.dragStartValues.sizePercentB - areaB.size;\n            }\n            else if(this.dragStartValues.sizePercentB === 0) {\n                areaA.size = this.dragStartValues.sizePercentA / this.dragStartValues.sizePixelA * newSizePixelA;\n                areaB.size = this.dragStartValues.sizePercentA - areaA.size;\n            }\n            else {\n                areaA.size = this.dragStartValues.sizePercentA / this.dragStartValues.sizePixelA * newSizePixelA;\n                areaB.size = (this.dragStartValues.sizePercentA + this.dragStartValues.sizePercentB) - areaA.size;\n            }\n        }\n\n        this.refreshStyleSizes();\n        this.notify('progress');\n    }\n\n    private stopDragging(): void {\n        if(this.isDragging === false && this.draggingWithoutMove === false) {\n            return;\n        }\n\n        this.displayedAreas.forEach(area => {\n            area.comp.unlockEvents();\n        });\n\n        while(this.dragListeners.length > 0) {\n            const fct = this.dragListeners.pop();\n            if(fct) {\n                fct();\n            }\n        }\n        \n        if(this.draggingWithoutMove === true) {\n            this.notify('click');\n        }\n        else {\n            this.notify('end');\n        }\n\n        this.isDragging = false;\n        this.draggingWithoutMove = false;\n    }\n\n\n    public notify(type: 'start' | 'progress' | 'end' | 'click' | 'transitionEnd'): void {\n        const areasSize: Array<number> = this.displayedAreas.map(a => a.size * 100);\n\n        switch(type) {\n            case 'start':\n                return this.dragStart.emit({gutterNum: this.currentGutterNum, sizes: areasSize});\n\n            case 'progress':\n                return this.dragProgress.emit({gutterNum: this.currentGutterNum, sizes: areasSize});\n\n            case 'end':\n                return this.dragEnd.emit({gutterNum: this.currentGutterNum, sizes: areasSize});\n                \n            case 'click':\n                return this.gutterClick.emit({gutterNum: this.currentGutterNum, sizes: areasSize});\n\n            case 'transitionEnd':\n                return this.transitionEndInternal.next(areasSize);\n        }\n    }\n\n    public ngOnDestroy(): void {\n        this.stopDragging();\n        this.windowResize.unsubscribe();\n    }\n}\n","import { Directive, Input, ElementRef, Renderer2, OnInit, OnDestroy, NgZone, HostBinding } from '@angular/core';\n\nimport { SplitComponent } from './split.component';\n\n@Directive({\n    selector: 'split-area'\n})\nexport class SplitAreaDirective implements OnInit, OnDestroy {\n\n    private _order: number | null = null;\n\n    @Input() set order(v: number | null) {\n        v = Number(v);\n        this._order = !isNaN(v) ? v : null;\n\n        this.split.updateArea(this, true, false);\n    }\n    \n    get order(): number | null {\n        return this._order;\n    }\n\n    ////\n\n    private _size: number | null = null;\n\n    @Input() set size(v: number | null) {\n        v = Number(v);\n        this._size = (!isNaN(v) && v >= 0 && v <= 100) ? (v/100) : null;\n\n        this.split.updateArea(this, false, true);\n    }\n    \n    get size(): number | null {\n        return this._size;\n    }\n\n    ////\n\n    private _minSize: number = 0;\n\n    @Input() set minSize(v: number) {\n        v = Number(v);\n        this._minSize = !isNaN(v) ? v : 0;\n\n        this.split.updateArea(this, false, false);\n    }\n    \n    get minSize(): number {\n        return this._minSize;\n    }\n    \n    @HostBinding('style.min-width.px')\n    get minWidth() {\n        return this._minWidth;\n    }\n    @HostBinding('style.min-height.px')\n    get minHeight() {\n        return this._minHeight;\n    }\n\n    ////\n\n    private _visible: boolean = true;\n\n    @Input() set visible(v: boolean) {\n        v = (typeof(v) === 'boolean') ? v : (v === 'false' ? false : true);\n        this._visible = v;\n\n        if(this.visible) { \n            this.split.showArea(this);\n        }\n        else {\n            this.split.hideArea(this);\n        }\n    }\n\n    get visible(): boolean {\n        return this._visible;\n    }\n\n    ////\n\n    private transitionListener: Function;\n    private readonly lockListeners: Array<Function> = [];\n    private _minWidth: number | null = null;\n    private _minHeight: number | null = null;\n\n    constructor(private ngZone: NgZone,\n                private elRef: ElementRef,\n                private renderer: Renderer2,\n                private split: SplitComponent) {}\n\n    public ngOnInit(): void {\n        this.split.addArea(this);\n\n        this.renderer.setStyle(this.elRef.nativeElement, 'flex-grow', '0');\n        this.renderer.setStyle(this.elRef.nativeElement, 'flex-shrink', '0');\n\n        this.ngZone.runOutsideAngular(() => {\n            this.transitionListener = this.renderer.listen(this.elRef.nativeElement, 'transitionend', (e: TransitionEvent) => this.onTransitionEnd(e));\n        });\n    }\n\n    public getSizePixel(prop: 'offsetWidth' | 'offsetHeight'): number {\n        return this.elRef.nativeElement[prop];\n    }\n\n    public setStyleVisibleAndDir(isVisible: boolean, isDragging: boolean, direction: 'horizontal' | 'vertical'): void {\n        if(isVisible === false) {\n            this.setStyleFlexbasis('0', isDragging);\n            this.renderer.setStyle(this.elRef.nativeElement, 'overflow-x', 'hidden');\n            this.renderer.setStyle(this.elRef.nativeElement, 'overflow-y', 'hidden');\n            \n            if(direction === 'vertical') {\n                this.renderer.setStyle(this.elRef.nativeElement, 'max-width', '0');\n            }\n        }\n        else {\n            this.renderer.setStyle(this.elRef.nativeElement, 'overflow-x', 'hidden');\n            this.renderer.setStyle(this.elRef.nativeElement, 'overflow-y', 'auto');\n            this.renderer.removeStyle(this.elRef.nativeElement, 'max-width');\n        }\n\n        if(direction === 'horizontal') {\n            this.renderer.setStyle(this.elRef.nativeElement, 'height', '100%');\n            this.renderer.removeStyle(this.elRef.nativeElement, 'width');\n        }\n        else {\n            this.renderer.setStyle(this.elRef.nativeElement, 'width', '100%');\n            this.renderer.removeStyle(this.elRef.nativeElement, 'height');\n        }\n    }\n\n    public setStyleOrder(value: number): void {\n        this.renderer.setStyle(this.elRef.nativeElement, 'order', value);\n    }\n    \n    public setStyleFlexbasis(value: string, isDragging: boolean): void {\n        // If component not yet initialized or gutter being dragged, disable transition\n        if(this.split.isViewInitialized === false || isDragging === true) {\n            this.setStyleTransition(false);\n        }\n        // Or use 'useTransition' to know if transition.\n        else {\n            this.setStyleTransition(this.split.useTransition);\n        }\n\n        this.renderer.setStyle(this.elRef.nativeElement, 'flex-basis', value);\n    }\n    \n    private setStyleTransition(useTransition: boolean): void {\n        if(useTransition) {\n            this.renderer.setStyle(this.elRef.nativeElement, 'transition', `flex-basis 0.3s`);\n        }\n        else {\n            this.renderer.removeStyle(this.elRef.nativeElement, 'transition');\n        }\n    }\n    \n    private onTransitionEnd(event: TransitionEvent): void {\n        // Limit only flex-basis transition to trigger the event\n        if(event.propertyName === 'flex-basis') {\n            this.split.notify('transitionEnd');\n        }\n    }\n    \n    public lockEvents(): void {\n        this.ngZone.runOutsideAngular(() => {\n            this.lockListeners.push( this.renderer.listen(this.elRef.nativeElement, 'selectstart', (e: Event) => false) );\n            this.lockListeners.push( this.renderer.listen(this.elRef.nativeElement, 'dragstart', (e: Event) => false) );\n        });\n    }\n\n    public unlockEvents(): void {\n        while(this.lockListeners.length > 0) {\n            const fct = this.lockListeners.pop();\n            if(fct) {\n                fct();\n            }\n        }\n    }\n\n    public ngOnDestroy(): void {\n        this.unlockEvents();\n\n        if(this.transitionListener) {\n            this.transitionListener();\n        }\n\n        this.split.removeArea(this);\n    }\n}\n","import { Directive, Input, ElementRef, Renderer2 } from '@angular/core';\n\n@Directive({\n    selector: 'split-gutter'\n})\nexport class SplitGutterDirective {\n\n    @Input() set order(v: number) {\n        this.renderer.setStyle(this.elRef.nativeElement, 'order', v);\n    }\n    \n    ////\n\n    private _direction: 'vertical' | 'horizontal';\n    \n    @Input() set direction(v: 'vertical' | 'horizontal') {\n        this._direction = v;\n        this.refreshStyle();\n    }\n    \n    get direction(): 'vertical' | 'horizontal' {\n        return this._direction;\n    }\n    \n    ////\n\n    @Input() set useTransition(v: boolean) {\n        if(v) {\n            this.renderer.setStyle(this.elRef.nativeElement, 'transition', `flex-basis 0.3s`);\n        }\n        else {\n            this.renderer.removeStyle(this.elRef.nativeElement, 'transition');\n        }\n    }\n    \n    ////\n\n    private _size: number;\n    \n    @Input() set size(v: number) {\n        this._size = v;\n        this.refreshStyle();\n    }\n    \n    get size(): number {\n        return this._size;\n    }\n    \n    ////\n\n    private _color: string;\n\n    @Input() set color(v: string) {\n        this._color = v;\n        this.refreshStyle();\n    }\n    \n    get color(): string {\n        return this._color;\n    }\n    \n    ////\n\n    private _imageH: string;\n\n    @Input() set imageH(v: string) {\n        this._imageH = v;\n        this.refreshStyle();\n    }\n    \n    get imageH(): string {\n        return this._imageH;\n    }\n    \n    ////\n\n    private _imageV: string;\n\n    @Input() set imageV(v: string) {\n        this._imageV = v;\n        this.refreshStyle();\n    }\n    \n    get imageV(): string {\n        return this._imageV;\n    }\n    \n    ////\n\n    private _disabled: boolean = false;\n\n    @Input() set disabled(v: boolean) {\n        this._disabled = v;\n        this.refreshStyle();\n    }\n    \n    get disabled(): boolean {\n        return this._disabled;\n    }\n    \n    ////\n\n    constructor(private elRef: ElementRef,\n                private renderer: Renderer2) {}\n\n    private refreshStyle(): void {\n        this.renderer.setStyle(this.elRef.nativeElement, 'flex-basis', `${ this.size }px`);\n        \n        // fix safari bug about gutter height when direction is horizontal\n        this.renderer.setStyle(this.elRef.nativeElement, 'height', (this.direction === 'vertical') ? `${ this.size }px` : `100%`);\n\n        this.renderer.setStyle(this.elRef.nativeElement, 'background-color', (this.color !== '') ? this.color : `#eeeeee`);\n\n        const state: 'disabled' | 'vertical' | 'horizontal' = (this.disabled === true) ? 'disabled' : this.direction;\n        this.renderer.setStyle(this.elRef.nativeElement, 'background-image', this.getImage(state));\n        this.renderer.setStyle(this.elRef.nativeElement, 'cursor', this.getCursor(state));\n    }\n    \n    private getCursor(state: 'disabled' | 'vertical' | 'horizontal'): string {\n        switch(state) {\n            case 'horizontal':\n                return 'col-resize';\n            \n            case 'vertical':\n                return 'row-resize';\n            \n            case 'disabled':\n                return 'default';\n        }\n    }\n    \n    private getImage(state: 'disabled' | 'vertical' | 'horizontal'): string {\n        switch(state) {\n            case 'horizontal':\n                return (this.imageH !== '') ? this.imageH : defaultImageH; \n\n            case 'vertical':\n                return (this.imageV !== '') ? this.imageV : defaultImageV;\n            \n            case 'disabled':\n                return '';\n        }\n    }\n}\n\n\nconst defaultImageH = 'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==\")';\nconst defaultImageV = 'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC\")';\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SplitComponent } from '../components/split.component';\nimport { SplitAreaDirective } from '../components/splitArea.directive';\nimport { SplitGutterDirective } from '../components/splitGutter.directive';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        SplitComponent,\n        SplitAreaDirective,\n        SplitGutterDirective,\n    ],\n    exports: [\n        SplitComponent,\n        SplitAreaDirective,\n    ]\n})\nexport class AngularSplitModule {\n\n    public static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: AngularSplitModule,\n            providers: []\n        };\n    }\n\n    public static forChild(): ModuleWithProviders {\n        return {\n            ngModule: AngularSplitModule,\n            providers: []\n        };\n    }\n\n}\n"],"names":["Subject"],"mappings":";;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;;;;;;;IAkNI,YAAoB,MAAc,EACd,OACA,OACA;QAHA,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK;QACL,UAAK,GAAL,KAAK;QACL,aAAQ,GAAR,QAAQ;0BAnNoB,YAAY;8BAmB1B,KAAK;yBAaV,KAAK;sBAgBF,IAAI;uBAeH,IAAI;2BAeP,EAAE;4BAeD,EAAE;6BAeD,EAAE;6BAeF,EAAE;oBAeJ,KAAK;yBAab,IAAI,YAAY,CAA4C,KAAK,CAAC;4BAC/D,IAAI,YAAY,CAA4C,KAAK,CAAC;uBACvE,IAAI,YAAY,CAA4C,KAAK,CAAC;2BAC9D,IAAI,YAAY,CAA4C,KAAK,CAAC;qCAE1D,IAAIA,SAAO,EAAiB;6BAClC,mBAA6B,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,GAAE,YAAY,CAAC,EAAE,CAAC;oCAsBpE,IAAIA,SAAO,EAAQ;4BAK7B,IAAI,CAAC,oBAAoB;aACxD,YAAY,EAAE;aACd,YAAY,CAAC,EAAE,CAAC;aAChB,SAAS,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;iCAEV,KAAK;0BACX,KAAK;mCACI,KAAK;gCACT,CAAC;8BAEW,EAAE;0BACL,EAAE;6BAEI,EAAE;+BACjB;YAC/B,kBAAkB,EAAE,CAAC;YACrB,UAAU,EAAE,CAAC;YACb,UAAU,EAAE,CAAC;YACb,YAAY,EAAE,CAAC;YACf,YAAY,EAAE,CAAC;YACf,QAAQ,EAAE,CAAC;YACX,QAAQ,EAAE,CAAC;SACd;KAK0C;;;;;QAjN9B,SAAS,CAAC,CAA4B;QAC/C,CAAC,GAAG,CAAC,CAAC,KAAK,UAAU,IAAI,UAAU,GAAG,YAAY,CAAC;QACnD,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QAEpB,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,IAAI;YACrD,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;SACvF,CAAC,CAAC;QAEH,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;;;;;IAG7B,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,UAAU,CAAC;KAC1B;;;;;QAMY,aAAa,CAAC,CAAU;QACjC,CAAC,GAAG,CAAC,QAAO,CAAC,CAAC,KAAK,SAAS,IAAI,CAAC,IAAI,CAAC,KAAK,OAAO,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;;;;;IAG5B,IAAI,aAAa;QACb,OAAO,IAAI,CAAC,cAAc,CAAC;KAC9B;;;;;QAMY,QAAQ,CAAC,CAAU;QAC5B,CAAC,GAAG,CAAC,QAAO,CAAC,CAAC,KAAK,SAAS,IAAI,CAAC,IAAI,CAAC,KAAK,OAAO,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;;QAGnB,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;;;;;IAG9B,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB;;;;;QAMY,KAAK,CAAC,CAAgB;QAC/B,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;QAE9C,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;;;;;IAG7B,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,MAAM,CAAC;KACtB;;;;;QAMY,MAAM,CAAC,CAAgB;QAChC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;QAE/C,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;;;;;IAG7B,IAAI,MAAM;QACN,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB;;;;;QAMY,UAAU,CAAC,CAAS;QAC7B,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;QAEjD,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;;;;;IAG7B,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,WAAW,CAAC;KAC3B;;;;;QAMY,WAAW,CAAC,CAAS;QAC9B,IAAI,CAAC,YAAY,GAAG,CAAC,OAAO,CAAC,KAAK,QAAQ,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;;QAGjE,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;;;;;IAG9B,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,YAAY,CAAC;KAC5B;;;;;QAMY,YAAY,CAAC,CAAS;QAC/B,IAAI,CAAC,aAAa,GAAG,CAAC,OAAO,CAAC,KAAK,QAAQ,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;;QAGlE,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;;;;;IAG9B,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,aAAa,CAAC;KAC7B;;;;;QAMY,YAAY,CAAC,CAAS;QAC/B,IAAI,CAAC,aAAa,GAAG,CAAC,OAAO,CAAC,KAAK,QAAQ,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC;;QAGlE,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;;;;;IAG9B,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,aAAa,CAAC;KAC7B;;;;;QAMY,GAAG,CAAC,CAAgB;QAC7B,CAAC,GAAG,CAAC,CAAC,KAAK,KAAK,IAAI,KAAK,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;;;;;IAGlB,IAAI,GAAG;QACH,OAAO,IAAI,CAAC,IAAI,CAAC;KACpB;;;;QAYwC,gBAAgB;QACrD,OAAO,CAAC,IAAI,CAAC,SAAS,KAAK,YAAY,IAAI,KAAK,GAAG,QAAQ,CAAC;;;;;QAGhC,QAAQ;QACpC,OAAO,IAAI,CAAC,KAAK,GAAG,GAAI,IAAI,CAAC,KAAM,IAAI,GAAG,MAAM,CAAC;;;;;QAGpB,SAAS;QACtC,OAAO,IAAI,CAAC,MAAM,GAAG,GAAI,IAAI,CAAC,MAAO,IAAI,GAAG,MAAM,CAAC;;;;;QAGnB,WAAW;QAC3C,OAAO,CAAC,IAAI,CAAC,SAAS,KAAK,YAAY,IAAI,GAAI,IAAI,CAAC,YAAY,EAAE,GAAG,IAAI,CAAC,UAAW,IAAI,GAAG,IAAI,CAAC;;;;;QAGhE,YAAY;QAC7C,OAAO,CAAC,IAAI,CAAC,SAAS,KAAK,UAAU,IAAI,GAAI,IAAI,CAAC,YAAY,EAAE,GAAG,IAAI,CAAC,UAAW,IAAI,GAAG,IAAI,CAAC;;;;;IAKnG,cAAc;QACV,IAAI,CAAC,oBAAoB,CAAC,IAAI,EAAE,CAAC;;;;;IA+B9B,eAAe;QAClB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;;;;;IAG1B,YAAY;QAChB,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;;;;;;IAGnC,OAAO,CAAC,IAAwB;QACnC,uBAAM,OAAO,GAAU;YACnB,IAAI;YACJ,KAAK,EAAE,CAAC;YACR,IAAI,EAAE,CAAC;SACV,CAAC;QAEF,IAAG,IAAI,CAAC,OAAO,KAAK,IAAI,EAAE;YACtB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACrC;aACI;YACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACjC;QAED,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAE1E,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;;;;;IAGpB,UAAU,CAAC,IAAwB;QACtC,IAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE;YAC/C,uBAAM,IAAI,qBAAW,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAA,CAAA;YACnE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;YAEjE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;SAC1B;aACI,IAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE;YAChD,uBAAM,IAAI,qBAAW,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAA,CAAA;YAC/D,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;SAC5D;;;;;;;;IAGE,UAAU,CAAC,IAAwB,EAAE,WAAoB,EAAE,UAAmB;;QAEjF,uBAAM,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;QAE5D,IAAG,IAAI,EAAE;YACL,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;SACvC;;;;;;IAGE,QAAQ,CAAC,IAAwB;QACpC,uBAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;QAExD,IAAG,IAAI,EAAE;YACL,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YAE1E,uBAAM,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;YACvE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC;YAEnC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;SAC1B;;;;;;IAGE,QAAQ,CAAC,IAAwB;QACpC,uBAAM,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;QAE5D,IAAG,IAAI,EAAE;YACL,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YAE1E,uBAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/E,KAAK,CAAC,OAAO,CAAC,IAAI;gBACd,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;gBACf,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;aACjB,CAAC,CAAA;YACF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC;YAE/B,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;SAC1B;;;;;;;IAGG,KAAK,CAAC,WAAoB,EAAE,UAAmB;QACnD,IAAI,CAAC,YAAY,EAAE,CAAC;;QAIpB,IAAG,WAAW,KAAK,IAAI,EAAE;;YAGrB,IAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,EAAE;gBACtD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,mBAAU,CAAC,CAAC,IAAI,CAAC,KAAK,wBAAc,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC,CAAC,CAAC;aACzF;;YAGD,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC;gBAChC,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;gBACnB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACvC,CAAC,CAAC;SAEN;;QAID,IAAG,UAAU,KAAK,IAAI,EAAE;YAEpB,uBAAM,aAAa,qBAAY,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,KAAa,EAAE,CAAQ,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,KAAK,EAAE,CAAC,CAAC,CAAA,CAAC;;YAGrI,IAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,aAAa,GAAG,IAAI,IAAI,aAAa,GAAG,KAAM,EAAE;gBAEvG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI;oBAC5B,IAAI,CAAC,IAAI,qBAAY,IAAI,CAAC,IAAI,CAAC,IAAI,CAAA,CAAC;iBACvC,CAAC,CAAC;aACN;iBAEI;gBACD,uBAAM,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;gBAE5C,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI;oBAC5B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;iBACpB,CAAC,CAAC;aACN;SACJ;;;;;QAOD,qBAAI,kBAA0B,CAAC;QAC/B,IAAG,IAAI,CAAC,SAAS,KAAK,YAAY,EAAE;YAChC,kBAAkB,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;SAC1F;aACI;YACD,kBAAkB,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;SAC7F;QAED,qBAAI,iBAAiB,GAAG,CAAC,CAAC;QAE1B,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI;YAC5B,uBAAM,WAAW,GAAG,IAAI,CAAC,IAAI,GAAG,kBAAkB,CAAC;YACnD,uBAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC5D,IAAG,UAAU,GAAG,IAAI,CAAC,UAAU,EAAE;gBAC7B,iBAAiB,IAAI,IAAI,CAAC,IAAI,CAAC;gBAC/B,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;aACjB;iBAAM,IAAI,UAAU,GAAG,WAAW,EAAE;gBACjC,iBAAiB,IAAI,CAAC,UAAU,GAAG,WAAW,IAAI,kBAAkB,CAAC;gBACrE,IAAI,CAAC,IAAI,GAAG,UAAU,GAAG,kBAAkB,CAAC;aAC/C;SACJ,CAAC,CAAC;QAEH,IAAG,iBAAiB,KAAK,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1D,uBAAM,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC;YAEnE,IAAG,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxB,uBAAM,mBAAmB,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;oBACpD,IAAI,iBAAiB,GAAG,CAAC,EAAE;wBACvB,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,kBAAkB,KAAK,iBAAiB,GAAG,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;qBACvG;oBACD,OAAO,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC;iBACvB,CAAC,CAAC;gBACH,IAAI,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE;oBAChC,uBAAM,YAAY,GAAG,iBAAiB,GAAG,mBAAmB,CAAC,MAAM,CAAC;oBAEpE,mBAAmB,CAAC,OAAO,CAAC,IAAI;wBAC5B,IAAI,CAAC,IAAI,IAAI,YAAY,CAAC;qBAC7B,CAAC,CAAC;iBACN;qBACI;;oBAED,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,iBAAiB,CAAC;iBACjF;aACJ;iBAGI;gBACD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC;aAChE;SACJ;QAGD,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;;;;;IAGtB,iBAAiB;QACrB,uBAAM,aAAa,GAAG,IAAI,CAAC,YAAY,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC;QAE5D,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI;YAC5B,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,SAAU,IAAI,CAAC,IAAI,GAAG,GAAI,OAAQ,IAAI,CAAC,IAAI,GAAG,aAAc,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;SACpH,CAAC,CAAC;;;;;;;;IAGA,aAAa,CAAC,UAAmC,EAAE,WAAmB,EAAE,SAAiB;QAC5F,UAAU,CAAC,cAAc,EAAE,CAAC;;QAG5B,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;QAClC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;YAC1B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,SAAS,EAAE,CAAC,CAAa,KAAK,IAAI,CAAC,YAAY,EAAE,CAAC,CAAE,CAAC;YAC/G,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,UAAU,EAAE,CAAC,CAAa,KAAK,IAAI,CAAC,YAAY,EAAE,CAAC,CAAE,CAAC;YAChH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,aAAa,EAAE,CAAC,CAAa,KAAK,IAAI,CAAC,YAAY,EAAE,CAAC,CAAE,CAAC;SACtH,CAAC,CAAC;QAEH,IAAG,IAAI,CAAC,QAAQ,EAAE;YACd,OAAO;SACV;QAED,uBAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,WAAW,GAAG,CAAC,CAAC,CAAC;QACzE,uBAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,WAAW,GAAG,CAAC,CAAC,CAAC;QAEzE,IAAG,CAAC,KAAK,IAAI,CAAC,KAAK,EAAE;YACjB,OAAO;SACV;QAED,uBAAM,IAAI,GAAG,CAAC,IAAI,CAAC,SAAS,KAAK,YAAY,IAAI,aAAa,GAAG,cAAc,CAAC;QAChF,IAAI,CAAC,eAAe,CAAC,kBAAkB,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACzE,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QAChE,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QAChE,IAAI,CAAC,eAAe,CAAC,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC;QAC/C,IAAI,CAAC,eAAe,CAAC,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC;QAC/C,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC;QACnD,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC;QAEnD,qBAAI,KAAa,CAAC;QAClB,IAAG,UAAU,YAAY,UAAU,EAAE;YACjC,KAAK,GAAG;gBACJ,CAAC,EAAE,UAAU,CAAC,OAAO;gBACrB,CAAC,EAAE,UAAU,CAAC,OAAO;aACxB,CAAC;SACL;aACI,IAAG,UAAU,YAAY,UAAU,EAAE;YACtC,KAAK,GAAG;gBACJ,CAAC,EAAE,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO;gBAChC,CAAC,EAAE,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO;aACnC,CAAC;SACL;aACI;YACD,OAAO;SACV;QAED,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;YAC1B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,WAAW,EAAE,CAAC,CAAa,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC,CAAE,CAAC;YACpI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,WAAW,EAAE,CAAC,CAAa,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC,CAAE,CAAC;SACvI,CAAC,CAAC;QAEH,KAAK,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;QACxB,KAAK,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;QAExB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QAEvB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;;;;;;;;;IAGjB,SAAS,CAAC,KAA8B,EAAE,KAAa,EAAE,KAAY,EAAE,KAAY;QACvF,IAAG,CAAC,IAAI,CAAC,UAAU,EAAE;YACjB,OAAO;SACV;QAED,qBAAI,GAAW,CAAC;QAChB,IAAG,KAAK,YAAY,UAAU,EAAE;YAC5B,GAAG,GAAG;gBACF,CAAC,EAAE,KAAK,CAAC,OAAO;gBAChB,CAAC,EAAE,KAAK,CAAC,OAAO;aACnB,CAAC;SACL;aACI,IAAG,KAAK,YAAY,UAAU,EAAE;YACjC,GAAG,GAAG;gBACF,CAAC,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO;gBAC3B,CAAC,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO;aAC9B,CAAC;SACL;aACI;YACD,OAAO;SACV;QAED,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;;;;;;;;;IAGhC,IAAI,CAAC,KAAa,EAAE,GAAW,EAAE,KAAY,EAAE,KAAY;;QAI/D,uBAAM,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,IAAI,CAAC,CAAC;QACtD,qBAAI,WAAW,GAAG,CAAC,IAAI,CAAC,SAAS,KAAK,YAAY,KAAK,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QAC5F,WAAW,GAAG,WAAW,GAAG,gBAAgB,CAAC;QAE7C,IAAG,IAAI,CAAC,GAAG,KAAK,KAAK,EAAE;YACnB,WAAW,GAAG,CAAC,WAAW,CAAC;SAC9B;QAED,qBAAI,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,WAAW,CAAC;QAClE,qBAAI,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,WAAW,CAAC;QAElE,IAAI,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE;YAC/C,aAAa,KAAK,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,aAAa,CAAC,CAAA;YAChE,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;SACjD;aAAM,IAAI,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE;YACtD,aAAa,KAAK,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,aAAa,CAAC,CAAA;YAChE,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;SACjD;QAED,IAAG,aAAa,GAAG,IAAI,CAAC,UAAU,IAAI,aAAa,GAAG,IAAI,CAAC,UAAU,EAAE;;YAEnE,OAAO;SACV;aACI,IAAG,aAAa,GAAG,IAAI,CAAC,UAAU,EAAE;YACrC,aAAa,IAAI,aAAa,CAAC;YAC/B,aAAa,GAAG,CAAC,CAAC;SACrB;aACI,IAAG,aAAa,GAAG,IAAI,CAAC,UAAU,EAAE;YACrC,aAAa,IAAI,aAAa,CAAC;YAC/B,aAAa,GAAG,CAAC,CAAC;SACrB;;QAID,IAAG,aAAa,KAAK,CAAC,EAAE;YACpB,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC;YACzB,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC;SAClB;aACI,IAAG,aAAa,KAAK,CAAC,EAAE;YACzB,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC;YACzB,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC;SAClB;aACI;;YAED,IAAG,IAAI,CAAC,eAAe,CAAC,YAAY,KAAK,CAAC,EAAE;gBACxC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,aAAa,CAAC;gBACjG,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC;aAC/D;iBACI,IAAG,IAAI,CAAC,eAAe,CAAC,YAAY,KAAK,CAAC,EAAE;gBAC7C,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,aAAa,CAAC;gBACjG,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC;aAC/D;iBACI;gBACD,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,aAAa,CAAC;gBACjG,KAAK,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,IAAI,KAAK,CAAC,IAAI,CAAC;aACrG;SACJ;QAED,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;;;;;IAGpB,YAAY;QAChB,IAAG,IAAI,CAAC,UAAU,KAAK,KAAK,IAAI,IAAI,CAAC,mBAAmB,KAAK,KAAK,EAAE;YAChE,OAAO;SACV;QAED,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI;YAC5B,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;SAC5B,CAAC,CAAC;QAEH,OAAM,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YACjC,uBAAM,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC;YACrC,IAAG,GAAG,EAAE;gBACJ,GAAG,EAAE,CAAC;aACT;SACJ;QAED,IAAG,IAAI,CAAC,mBAAmB,KAAK,IAAI,EAAE;YAClC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;SACxB;aACI;YACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SACtB;QAED,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;;;;;;IAI9B,MAAM,CAAC,IAA8D;QACxE,uBAAM,SAAS,GAAkB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC;QAE5E,QAAO,IAAI;YACP,KAAK,OAAO;gBACR,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,EAAE,SAAS,EAAC,CAAC,CAAC;YAErF,KAAK,UAAU;gBACX,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAC,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,EAAE,SAAS,EAAC,CAAC,CAAC;YAExF,KAAK,KAAK;gBACN,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,EAAE,SAAS,EAAC,CAAC,CAAC;YAEnF,KAAK,OAAO;gBACR,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAC,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,EAAE,SAAS,EAAC,CAAC,CAAC;YAEvF,KAAK,eAAe;gBAChB,OAAO,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACzD;;;;;IAGE,WAAW;QACd,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;;;;YA9oBvC,SAAS,SAAC;gBACP,QAAQ,EAAE,OAAO;gBACjB,eAAe,EAAE,uBAAuB,CAAC,MAAM;gBAC/C,MAAM,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;KAuBR,CAAC;gBACF,QAAQ,EAAE;;;;;;;;;;;;;;uBAcS;aACtB;;;;YApFkE,MAAM;YAAjC,UAAU;YAD9B,iBAAiB;YACnB,SAAS;;;0BAyFtB,KAAK;8BAmBL,KAAK;yBAaL,KAAK;sBAgBL,KAAK;uBAeL,KAAK;2BAeL,KAAK;4BAeL,KAAK;6BAeL,KAAK;6BAeL,KAAK;oBAeL,KAAK;0BAWL,MAAM;6BACN,MAAM;wBACN,MAAM;4BACN,MAAM;8BAGN,MAAM;iCAEN,WAAW,SAAC,sBAAsB;yBAIlC,WAAW,SAAC,aAAa;0BAIzB,WAAW,SAAC,cAAc;4BAI1B,WAAW,SAAC,iBAAiB;6BAI7B,WAAW,SAAC,kBAAkB;+BAK9B,YAAY,SAAC,eAAe;;;;;;;AC5QjC;;;;;;;IAwFI,YAAoB,MAAc,EACd,OACA,UACA;QAHA,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK;QACL,aAAQ,GAAR,QAAQ;QACR,UAAK,GAAL,KAAK;sBAlFO,IAAI;qBAeL,IAAI;wBAeR,CAAC;wBAwBA,IAAI;6BAqBkB,EAAE;yBACjB,IAAI;0BACH,IAAI;KAKK;;;;;QAhFhC,KAAK,CAAC,CAAgB;QAC/B,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;QAEnC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;;;;;IAG7C,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,MAAM,CAAC;KACtB;;;;;QAMY,IAAI,CAAC,CAAgB;QAC9B,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,GAAC,GAAG,IAAI,IAAI,CAAC;QAEhE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;;;;;IAG7C,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB;;;;;QAMY,OAAO,CAAC,CAAS;QAC1B,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,QAAQ,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAElC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;;;;;IAG9C,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB;;;;QAGG,QAAQ;QACR,OAAO,IAAI,CAAC,SAAS,CAAC;;;;;QAGtB,SAAS;QACT,OAAO,IAAI,CAAC,UAAU,CAAC;;;;;;QAOd,OAAO,CAAC,CAAU;QAC3B,CAAC,GAAG,CAAC,QAAO,CAAC,CAAC,KAAK,SAAS,IAAI,CAAC,IAAI,CAAC,KAAK,OAAO,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC;QACnE,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAElB,IAAG,IAAI,CAAC,OAAO,EAAE;YACb,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAC7B;aACI;YACD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAC7B;;;;;IAGL,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,QAAQ,CAAC;KACxB;;;;IAcM,QAAQ;QACX,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAEzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,WAAW,EAAE,GAAG,CAAC,CAAC;QACnE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,aAAa,EAAE,GAAG,CAAC,CAAC;QAErE,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;YAC1B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,eAAe,EAAE,CAAC,CAAkB,KAAK,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;SAC9I,CAAC,CAAC;;;;;;IAGA,YAAY,CAAC,IAAoC;QACpD,OAAO,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;;;;;;;;IAGnC,qBAAqB,CAAC,SAAkB,EAAE,UAAmB,EAAE,SAAoC;QACtG,IAAG,SAAS,KAAK,KAAK,EAAE;YACpB,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YACxC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;YACzE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;YAEzE,IAAG,SAAS,KAAK,UAAU,EAAE;gBACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,WAAW,EAAE,GAAG,CAAC,CAAC;aACtE;SACJ;aACI;YACD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;YACzE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,EAAE,MAAM,CAAC,CAAC;YACvE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;SACpE;QAED,IAAG,SAAS,KAAK,YAAY,EAAE;YAC3B,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;YACnE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;SAChE;aACI;YACD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;YAClE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;SACjE;;;;;;IAGE,aAAa,CAAC,KAAa;QAC9B,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;;;;;;;IAG9D,iBAAiB,CAAC,KAAa,EAAE,UAAmB;;QAEvD,IAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,KAAK,KAAK,IAAI,UAAU,KAAK,IAAI,EAAE;YAC9D,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;SAClC;aAEI;YACD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;SACrD;QAED,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;;;;;;IAGlE,kBAAkB,CAAC,aAAsB;QAC7C,IAAG,aAAa,EAAE;YACd,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,EAAE,iBAAiB,CAAC,CAAC;SACrF;aACI;YACD,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;SACrE;;;;;;IAGG,eAAe,CAAC,KAAsB;;QAE1C,IAAG,KAAK,CAAC,YAAY,KAAK,YAAY,EAAE;YACpC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;SACtC;;;;;IAGE,UAAU;QACb,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;YAC1B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,aAAa,EAAE,CAAC,CAAQ,KAAK,KAAK,CAAC,CAAE,CAAC;YAC9G,IAAI,CAAC,aAAa,CAAC,IAAI,CAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,WAAW,EAAE,CAAC,CAAQ,KAAK,KAAK,CAAC,CAAE,CAAC;SAC/G,CAAC,CAAC;;;;;IAGA,YAAY;QACf,OAAM,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;YACjC,uBAAM,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC;YACrC,IAAG,GAAG,EAAE;gBACJ,GAAG,EAAE,CAAC;aACT;SACJ;;;;;IAGE,WAAW;QACd,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAG,IAAI,CAAC,kBAAkB,EAAE;YACxB,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC7B;QAED,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;;;;YA1LnC,SAAS,SAAC;gBACP,QAAQ,EAAE,YAAY;aACzB;;;;YANoE,MAAM;YAAhD,UAAU;YAAE,SAAS;YAEvC,cAAc;;;sBASlB,KAAK;qBAeL,KAAK;wBAeL,KAAK;yBAWL,WAAW,SAAC,oBAAoB;0BAIhC,WAAW,SAAC,qBAAqB;wBASjC,KAAK;;;;;;;ACjEV;;;;;IAsGI,YAAoB,KAAiB,EACjB;QADA,UAAK,GAAL,KAAK,CAAY;QACjB,aAAQ,GAAR,QAAQ;yBAdC,KAAK;KAcS;;;;;QAhG9B,KAAK,CAAC,CAAS;QACxB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;;;;;;QAOpD,SAAS,CAAC,CAA4B;QAC/C,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,YAAY,EAAE,CAAC;;;;;IAGxB,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,UAAU,CAAC;KAC1B;;;;;QAIY,aAAa,CAAC,CAAU;QACjC,IAAG,CAAC,EAAE;YACF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,EAAE,iBAAiB,CAAC,CAAC;SACrF;aACI;YACD,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;SACrE;;;;;;QAOQ,IAAI,CAAC,CAAS;QACvB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,YAAY,EAAE,CAAC;;;;;IAGxB,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,KAAK,CAAC;KACrB;;;;;QAMY,KAAK,CAAC,CAAS;QACxB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,YAAY,EAAE,CAAC;;;;;IAGxB,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,MAAM,CAAC;KACtB;;;;;QAMY,MAAM,CAAC,CAAS;QACzB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,YAAY,EAAE,CAAC;;;;;IAGxB,IAAI,MAAM;QACN,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB;;;;;QAMY,MAAM,CAAC,CAAS;QACzB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,YAAY,EAAE,CAAC;;;;;IAGxB,IAAI,MAAM;QACN,OAAO,IAAI,CAAC,OAAO,CAAC;KACvB;;;;;QAMY,QAAQ,CAAC,CAAU;QAC5B,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,YAAY,EAAE,CAAC;;;;;IAGxB,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,SAAS,CAAC;KACzB;;;;IAOO,YAAY;QAChB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,EAAE,GAAI,IAAI,CAAC,IAAK,IAAI,CAAC,CAAC;;QAGnF,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,SAAS,KAAK,UAAU,IAAI,GAAI,IAAI,CAAC,IAAK,IAAI,GAAG,MAAM,CAAC,CAAC;QAE1H,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,kBAAkB,EAAE,CAAC,IAAI,CAAC,KAAK,KAAK,EAAE,IAAI,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC;QAEnH,uBAAM,KAAK,GAA2C,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC;QAC7G,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,kBAAkB,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;QAC3F,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;;;;;;IAG9E,SAAS,CAAC,KAA6C;QAC3D,QAAO,KAAK;YACR,KAAK,YAAY;gBACb,OAAO,YAAY,CAAC;YAExB,KAAK,UAAU;gBACX,OAAO,YAAY,CAAC;YAExB,KAAK,UAAU;gBACX,OAAO,SAAS,CAAC;SACxB;;;;;;IAGG,QAAQ,CAAC,KAA6C;QAC1D,QAAO,KAAK;YACR,KAAK,YAAY;gBACb,OAAO,CAAC,IAAI,CAAC,MAAM,KAAK,EAAE,IAAI,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC;YAE9D,KAAK,UAAU;gBACX,OAAO,CAAC,IAAI,CAAC,MAAM,KAAK,EAAE,IAAI,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC;YAE9D,KAAK,UAAU;gBACX,OAAO,EAAE,CAAC;SACjB;;;;YA3IR,SAAS,SAAC;gBACP,QAAQ,EAAE,cAAc;aAC3B;;;;YAJ0B,UAAU;YAAE,SAAS;;;sBAO3C,KAAK;0BAQL,KAAK;8BAWL,KAAK;qBAaL,KAAK;sBAaL,KAAK;uBAaL,KAAK;uBAaL,KAAK;yBAaL,KAAK;;MAuDJ,aAAa,GAAG,2JAA2J,CAAC;AAClL,MAAM,aAAa,GAAG,+KAA+K;;;;;;ACnJrM;;;;IAuBW,OAAO,OAAO;QACjB,OAAO;YACH,QAAQ,EAAE,kBAAkB;YAC5B,SAAS,EAAE,EAAE;SAChB,CAAC;;;;;IAGC,OAAO,QAAQ;QAClB,OAAO;YACH,QAAQ,EAAE,kBAAkB;YAC5B,SAAS,EAAE,EAAE;SAChB,CAAC;;;;YA3BT,QAAQ,SAAC;gBACN,OAAO,EAAE;oBACL,YAAY;iBACf;gBACD,YAAY,EAAE;oBACV,cAAc;oBACd,kBAAkB;oBAClB,oBAAoB;iBACvB;gBACD,OAAO,EAAE;oBACL,cAAc;oBACd,kBAAkB;iBACrB;aACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;"}